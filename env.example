# ==============================================================================
# HOSTINGER PLATFORM - MASTER ENVIRONMENT CONFIGURATION (TEMPLATE)
# ==============================================================================
# Single source of truth for ALL environment variables across the system.
# Copy this file to .env and fill in the actual values.
# ==============================================================================

# ==============================================================================
# VPS CONNECTION
# ==============================================================================
VPS_HOST=your-vps-ip-here
VPS_USER=root

# ==============================================================================
# N8N CONFIGURATION
# ==============================================================================
# Public host URL
N8N_HOST=https://n8n.your-domain.com

# API access (generate in n8n UI: Settings → API → Create API Key)
N8N_API_KEY=your-n8n-api-key-here

# Webhook protection
N8N_WEBHOOK_BEARER_TOKEN=your-random-token-here

# ==============================================================================
# SUPABASE CONFIGURATION
# ==============================================================================
# Project: https://supabase.com/dashboard/project/your-project-id
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Management API Token (for CLI/MCP migrations)
# Generated at: https://supabase.com/dashboard/account/tokens
SUPABASE_ACCESS_TOKEN=your-supabase-access-token-here

# Database Credentials (Connect → Transaction Pooler)
SUPABASE_DB_HOST=aws-0-us-west-1.pooler.supabase.com
SUPABASE_DB_PORT=6543
SUPABASE_DB_NAME=postgres
SUPABASE_DB_USER=postgres.your-project-id
SUPABASE_DB_PASSWORD=your-db-password-here
SUPABASE_DB_SSL=require

# ==============================================================================
# BRIGHT DATA CONFIGURATION
# ==============================================================================
# Dashboard: https://brightdata.com/cp/dashboard
BRIGHTDATA_API_KEY=your-brightdata-api-key-here

# Residential Proxy Configuration
BRIGHTDATA_PROXY_HOST=brd.superproxy.io
BRIGHTDATA_PROXY_PORT=33335
BRIGHTDATA_PROXY_USERNAME=your-proxy-username-here
BRIGHTDATA_PROXY_PASSWORD=your-proxy-password-here

# ==============================================================================
# BRAVE SEARCH API
# ==============================================================================
# Get key at: https://brave.com/search/api/
BRAVE_API_KEY=your-brave-api-key-here

# ==============================================================================
# RUNPOD CONFIGURATION
# ==============================================================================
# Dashboard: https://www.runpod.io/console
RUNPOD_API_KEY=your-runpod-api-key-here

# Serverless endpoint (Karaoke GPU worker)
RUNPOD_ENDPOINT_ID=your-endpoint-id-here
RUNPOD_ENDPOINT_URL=https://api.runpod.ai/v2/your-endpoint-id-here/run

# ==============================================================================
# AWS S3 CONFIGURATION (Karaoke Pipeline Storage)
# ==============================================================================
# Used by karaoke-agent for uploading source videos
AWS_S3_ENDPOINT=https://s3.us-east-1.amazonaws.com
AWS_S3_BUCKET=your-bucket-name-here
AWS_ACCESS_KEY_ID=your-access-key-id-here
AWS_SECRET_ACCESS_KEY=your-secret-access-key-here
AWS_REGION=us-east-1

# Callback URL for Runpod worker completion
CALLBACK_URL=https://your-n8n-domain.com/webhook/karaoke-publish

# ==============================================================================
# HOME AGENT / WORKER CONFIGURATION
# ==============================================================================
# API base URL for n8n webhooks
VPS_API_BASE=https://your-n8n-domain.com/webhook

# Worker authentication token (must match n8n WORKER_TOKEN)
# Generate: openssl rand -hex 32
WORKER_TOKEN=your-random-32-char-token-here

# Worker settings
POLL_INTERVAL_SECONDS=30
DOWNLOAD_DIR=/var/lib/karaoke-agent/spool
MAX_RETRIES=3
AGENT_LOG_PATH=/var/lib/karaoke-agent/karaoke-agent.log

# ==============================================================================
# OLLAMA CONFIGURATION
# ==============================================================================
OLLAMA_HOST=0.0.0.0

# ==============================================================================
# OPENWEBUI CONFIGURATION
# ==============================================================================
OPENWEBUI_BASE_URL=https://openwebui.your-domain.com

# Secret key for session persistence (also in webui_secret.key file)
WEBUI_SECRET_KEY=your-random-secret-key-here

# ==============================================================================
# SLACK ALERTING (Pipeline Monitoring)
# ==============================================================================
# Dashboard: https://api.slack.com/apps/your-app-id

# Webhook URL
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url

# App credentials
SLACK_APP_ID=your-app-id
SLACK_CLIENT_ID=your-client-id
SLACK_CLIENT_SECRET=your-client-secret
SLACK_SIGNING_SECRET=your-signing-secret
SLACK_VERIFICATION_TOKEN=your-verification-token

# Bot tokens
SLACK_BOT_USER_OAUTH_TOKEN=xoxb-your-bot-token
SLACK_KARAOKE_PIPELINE_NOTIFICATION_TOKEN=xapp-your-token
SLACK_TOKEN=xoxe-your-token

# Alert thresholds (in minutes)
ALERT_WORKER_TIMEOUT_MIN=5
ALERT_JOB_STUCK_MIN=30
ALERT_QUEUE_BACKLOG=10

# ==============================================================================
# KARAOKE UI CONFIGURATION (Vite build-time variables)
# ==============================================================================
VITE_API_BASE=https://your-n8n-domain.com/webhook
VITE_VIDEOS_BASE=https://your-cdn-domain.com/videos

# ==============================================================================
# DOCKER COMPOSE PATHS
# ==============================================================================
# Local data directory for yt-dlp downloads and karaoke files
KARAOKE_DATA_DIR=/root/yt-dlp-data

# Docker Hub for Runpod worker
DOCKER_USERNAME=your-docker-username
